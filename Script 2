-- [[ PHẦN 1: KHAI BÁO BIẾN - DÁN TRÊN ĐẦU SCRIPT ]] --
local HttpService = game:GetService("HttpService")
local playerGui = game.Players.LocalPlayer:WaitForChild("PlayerGui")
local GITHUB_URL = "https://raw.githubusercontent.com/username/repo/main/database.json"

-- [[ PHẦN 2: CÁC HÀM HIỆU ỨNG - DÁN DƯỚI PHẦN KHAI BÁO ]] --
local function lightningEffect()
    local flash = Instance.new("Frame", playerGui:FindFirstChildOfClass("ScreenGui"))
    flash.Size = UDim2.new(1, 0, 1, 0); flash.BackgroundColor3 = Color3.new(1,1,1)
    flash.BackgroundTransparency = 0.5; flash.ZIndex = 100
    task.spawn(function()
        for i = 1, 4 do flash.Visible = true; task.wait(0.04); flash.Visible = false; task.wait(0.04) end
        flash:Destroy().
    end)
end

local function shakeCamera()
    local cam = workspace.CurrentCamera
    local startCF = cam.CFrame
    task.spawn(function()
        for i = 1, 15 do
            cam.CFrame = startCF * CFrame.new(math.random(-20,20)/100, math.random(-20,20)/100, 0)
            task.wait(0.01)
        end
        cam.CFrame = startCF
    end)
end

-- [[ PHẦN 3: GỘP VÀO NÚT BẤM CỦA ÔNG ANH ]] --
button.MouseButton1Click:Connect(function()
    lightningEffect() -- KHÔNG ĐƯỢC BỎ: Hiệu ứng tia chớp
    shakeCamera()     -- KHÔNG ĐƯỢC BỎ: Hiệu ứng động đất
    
    -- Đọc dữ liệu từ GitHub
    local success, response = pcall(function() return HttpService:GetAsync(GITHUB_URL) end)
    if success then
        local data = HttpService:JSONDecode(response)
        local key = textbox.Text -- Lấy key người dùng nhập
        
        if data.Keys[key] then
            -- HIỆN THÔNG BÁO TÀ ĐẠO
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "TRẤN YỂM THÀNH CÔNG!",
                Text = data.Config.Notify,
                Duration = 10
            })
            
            ---------------------------------------------------------
            -- >> CHỖ NÀY: DÁN TOÀN BỘ SCRIPT CHÍNH CŨ CỦA ÔNG ANH VÀO <<
            -- Ví dụ: loadstring(game:HttpGet("https://raw.githubusercontent.com/chunghoadinh1910-oss/Huyf/refs/heads/main/Script"))()
            ---------------------------------------------------------
            
        else
            warn("Key sai rồi đại ca!")
        end
    end
end)
