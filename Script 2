local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

-- X√≥a GUI c≈© ƒë·ªÉ reset
if CoreGui:FindFirstChild("VuaBuaChu_Ultimate") then CoreGui:FindFirstChild("VuaBuaChu_Ultimate"):Destroy() end

local ScreenGui = Instance.new("ScreenGui", CoreGui)
ScreenGui.Name = "VuaBuaChu_Ultimate"

-- [ FRAME ƒêƒÇNG NH·∫¨P ] --
local LoginFrame = Instance.new("Frame", ScreenGui)
LoginFrame.Size = UDim2.new(0, 380, 0, 260)
LoginFrame.Position = UDim2.new(0.5, -190, 0.5, -130)
LoginFrame.BackgroundColor3 = Color3.fromRGB(15, 0, 30)
Instance.new("UIStroke", LoginFrame).Color = Color3.fromRGB(255, 0, 0)
Instance.new("UICorner", LoginFrame)

local KeyBox = Instance.new("TextBox", LoginFrame)
KeyBox.Size = UDim2.new(0.9, 0, 0, 100)
KeyBox.Position = UDim2.new(0.05, 0, 0.15, 0)
KeyBox.PlaceholderText = "D√ÅN B√ôA CH√ö T·∫†I ƒê√ÇY (D√ô L√Ä √î VU√îNG C≈®NG ƒê∆Ø·ª¢C)..."
KeyBox.Text = ""
KeyBox.TextWrapped = true
KeyBox.ClearTextOnFocus = false
KeyBox.BackgroundColor3 = Color3.fromRGB(30, 0, 50)
KeyBox.TextColor3 = Color3.new(1, 1, 1)
KeyBox.TextSize = 10

-- N√∫t Gi·∫£i B√πa
local LoginBtn = Instance.new("TextButton", LoginFrame)
LoginBtn.Size = UDim2.new(0.45, 0, 0, 45)
LoginBtn.Position = UDim2.new(0.03, 0, 0.7, 0)
LoginBtn.Text = "GI·∫¢I B√ôA"
LoginBtn.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
LoginBtn.TextColor3 = Color3.new(1, 1, 1)

-- N√∫t L·∫•y B√πa (ƒê√£ th√™m l·∫°i)
local GetKeyBtn = Instance.new("TextButton", LoginFrame)
GetKeyBtn.Size = UDim2.new(0.45, 0, 0, 45)
GetKeyBtn.Position = UDim2.new(0.52, 0, 0.7, 0)
GetKeyBtn.Text = "L·∫§Y B√ôA"
GetKeyBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
GetKeyBtn.TextColor3 = Color3.new(1, 1, 1)

-- H√ÄM SO S√ÅNH CHU·ªñI TUY·ªÜT ƒê·ªêI (D√ôNG HEX)
local function toHex(s)
    return (s:gsub('.', function(c) return string.format('%02X', string.byte(c)) end))
end

LoginBtn.MouseButton1Click:Connect(function()
    local inputHex = toHex(KeyBox.Text:gsub("%s+", ""))
    LoginBtn.Text = "ƒêANG GI·∫¢I ·∫§N..."
    
    local success, response = pcall(function()
        return game:HttpGet("https://raw.githubusercontent.com/chunghoadinh1910-oss/Huyf/refs/heads/main/database.json?t=" .. os.time())
    end)

    if success then
        local data = HttpService:JSONDecode(response)
        local found = nil
        
        for k, v in pairs(data) do
            if toHex(k:gsub("%s+", "")) == inputHex then
                found = v
                break
            end
        end

        if found then
            LoginBtn.Text = "TH√ÄNH C√îNG!"
            wait(0.5)
            LoginFrame.Visible = false
            _G.StartMenu(found.Type, found.Expiry)
        else
            warn("HEX INPUT: " .. inputHex) -- Ki·ªÉm tra m√£ Hex trong F9
            LoginBtn.Text = "SAI B√ôA CH√ö!"
            wait(1.5)
            LoginBtn.Text = "GI·∫¢I B√ôA L·∫†I"
        end
    else
        LoginBtn.Text = "L·ªñI K·∫æT N·ªêI!"
    end
end)

GetKeyBtn.MouseButton1Click:Connect(function()
    setclipboard("https://discord.gg/vua-bua-chu") -- Thay link c·ªßa b·∫°n
    game:GetService("StarterGui"):SetCore("SendNotification", {Title="H·ªá Th·ªëng", Text="ƒê√£ copy link l·∫•y b√πa!"})
end)

-- [ MENU T√ÅC D·ª§NG BAN ƒê·∫¶U ] --
_G.StartMenu = function(kType, expiry)
    -- Gi·ªØ nguy√™n code Menu Auto Farm, Speed, Jump c·ªßa b·∫°n ·ªü ƒë√¢y...
    print("Menu mo cho loai: " .. kType)
    game:GetService("StarterGui"):SetCore("SendNotification", {Title="TH√îNG B√ÅO", Text="üåï PHONG ·∫§N ƒê√É GI·∫¢I!"})
end
