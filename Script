local HttpService = game:GetService("HttpService")
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- 1. K·∫æT N·ªêI DATABASE GITHUB
local DB_URL = "https://raw.githubusercontent.com/chunghoadinh1910-oss/Huyf/main/database.json"
local Success, Data = pcall(function() 
    return HttpService:JSONDecode(game:HttpGet(DB_URL)) 
end)

if not Success then 
    warn("L·ªói k·∫øt n·ªëi d·ªØ li·ªáu S√°t Qu·ª∑ ƒêo√†n!") 
    return 
end

-- 2. C·∫§U H√åNH GIAO DI·ªÜN KH·ªûI T·∫†O
local Window = Rayfield:CreateWindow({
    Name = "üèÆ TANJIRO HUB | BRAINROT STEALER üèÆ",
    LoadingTitle = "Th·ª©c T·ªânh H∆°i Th·ªü M·∫∑t Tr·ªùi...",
    LoadingSubtitle = "by Tanjiro Team",
    ConfigurationSaving = { Enabled = false },
    KeySystem = true,
    KeySettings = {
        Title = "·∫§N S√ÅT QU·ª∂ - NH·∫¨P KEY",
        Subtitle = "L·∫•y Key t·∫°i: " .. (Data.Config.LinkGetKey or "Link Discord"),
        Note = "Key Admin s·∫Ω c√≥ giao di·ªán ƒê·ªè, Key th∆∞·ªùng m√†u Xanh",
        FileName = "TanjiroKey",
        SaveKey = true,
        Key = {} -- Th∆∞ vi·ªán s·∫Ω t·ª± check trong DB c·ªßa √¥ng
    }
})

-- H√†m ki·ªÉm tra Key v√† l·∫•y quy·ªÅn h·∫°n
local function GetKeyInfo(input)
    return Data.Keys[input]
end

-- ƒê·ª£i ng∆∞·ªùi d√πng nh·∫≠p Key (Rayfield t·ª± x·ª≠ l√Ω n·∫øu SaveKey = true)
-- ·ªû ƒë√¢y t√¥i gi·∫£ l·∫≠p logic m√†u s·∫Øc sau khi key h·ª£p l·ªá:
local CurrentKey = "FREE_KEY_123" -- Bi·∫øn n√†y Rayfield s·∫Ω tr·∫£ v·ªÅ
local UserData = GetKeyInfo(CurrentKey)

-- 3. THI·∫æT L·∫¨P M√ÄU S·∫ÆC THEO QUY·ªÄN H·∫†N
local MainColor = Color3.fromRGB(0, 162, 255) -- M·∫∑c ƒë·ªãnh Xanh
if UserData and UserData.Type == "Admin" then
    MainColor = Color3.fromRGB(255, 0, 0) -- Admin ƒê·ªè r·ª±c
end

-- 4. C√ÅC TAB T√çNH NƒÇNG
local MainTab = Window:CreateTab("Trang Ch·ªß", 4483362458)
local FarmTab = Window:CreateTab("T√†n Ph√° Brainrot", 4483362458)

MainTab:CreateSection("Th√¥ng Tin Ng∆∞·ªùi D√πng")
MainTab:CreateLabel("C·∫•p b·∫≠c: " .. (UserData and UserData.Type or "Guest"))
MainTab:CreateLabel("H·∫°n d√πng: " .. (UserData and UserData.Expire or "N/A"))

-- T√çNH NƒÇNG 1: AUTO COLLECT (T·ª∞ L∆Ø·ª¢M)
FarmTab:CreateSection("T·ª± ƒê·ªông Thu Th·∫≠p")
FarmTab:CreateToggle({
    Name = "Auto Collect Brainrot",
    CurrentValue = false,
    Callback = function(Value)
        _G.AutoCollect = Value
        while _G.AutoCollect do
            task.wait(0.1)
            for _, item in pairs(workspace:GetChildren()) do
                if item:IsA("Part") and item:FindFirstChild("TouchInterest") then
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = item.CFrame
                end
            end
        end
    end
})

-- T√çNH NƒÇNG 2: KILL AURA (ƒê√ÅNH T·ª∞ ƒê·ªòNG)
FarmTab:CreateSection("Chi·∫øn ƒê·∫•u")
FarmTab:CreateToggle({
    Name = "Kill Aura (Ph·∫°m vi 20m)",
    CurrentValue = false,
    Callback = function(Value)
        _G.KillAura = Value
        while _G.KillAura do
            task.wait(0.1)
            for _, p in pairs(game.Players:GetPlayers()) do
                if p ~= game.Players.LocalPlayer and p.Character and p.Character:FindFirstChild("Head") then
                    local dist = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - p.Character.HumanoidRootPart.Position).Magnitude
                    if dist < 20 then
                        local tool = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool")
                        if tool then
                            tool:Activate()
                            firetouchinterest(p.Character.Head, tool.Handle, 0)
                            firetouchinterest(p.Character.Head, tool.Handle, 1)
                        end
                    end
                end
            end
        end
    end
})

-- T√çNH NƒÇNG 3: BAY L∆Ø·ª¢N (FLY)
FarmTab:CreateSection("Di Chuy·ªÉn")
FarmTab:CreateToggle({
    Name = "H∆°i Th·ªü C·ªßa Gi√≥ (Fly)",
    CurrentValue = false,
    Callback = function(Value)
        _G.Fly = Value
        local char = game.Players.LocalPlayer.Character
        if _G.Fly then
            local bv = Instance.new("BodyVelocity", char.HumanoidRootPart)
            bv.Name = "FlyVelocity"
            bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            task.spawn(function()
                while _G.Fly do
                    bv.Velocity = char.Humanoid.MoveDirection * 70
                    task.wait()
                end
                bv:Destroy()
            end)
        end
    end
})

Rayfield:Notify({
    Title = "TANJIRO HUB READY",
    Content = "M√†u UI ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p theo c·∫•p ƒë·ªô Key c·ªßa b·∫°n!",
    Duration = 5,
    Image = 4483362458,
})
